"use client";

import React, { useState, useEffect, useRef } from 'react';
import toast from 'react-hot-toast';
import { handleInputChange } from '../../core/validation/forbiddenWords';


interface Message {
    sender: 'user' | 'bot';
    text: string;
}
const currentDate = new Date();
const daysOfWeek = ['ÛŒÚ©Ø´Ù†Ø¨Ù‡', 'Ø¯ÙˆØ´Ù†Ø¨Ù‡', 'Ø³Ù‡â€ŒØ´Ù†Ø¨Ù‡', 'Ú†Ù‡Ø§Ø±Ø´Ù†Ø¨Ù‡', 'Ù¾Ù†Ø¬Ø´Ù†Ø¨Ù‡', 'Ø¬Ù…Ø¹Ù‡', 'Ø´Ù†Ø¨Ù‡'];
const dayOfWeek = daysOfWeek[currentDate.getDay()];
const date = currentDate.getDate().toLocaleString('fa-IR');
const month = currentDate.toLocaleString('fa-IR', { month: 'long' }); // Ù…Ø§Ù‡ Ø¨Ù‡ Ø²Ø¨Ø§Ù† ÙØ§Ø±Ø³ÛŒ

const responses: { [key: string]: string | string[] } = {
    'Ø³Ù„Ø§Ù…': 'Ø³Ù„Ø§Ù…! Ú†Ø·ÙˆØ± Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ù… Ø¨Ù‡ Ø´Ù…Ø§ Ú©Ù…Ú© Ú©Ù†Ù…ØŸ',
    'Ø®ÙˆØ¨ÛŒØŸ': 'Ù…Ù† ÛŒÚ© Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ Ù‡Ø³ØªÙ… Ùˆ Ø§Ø­Ø³Ø§Ø³ Ù†Ø¯Ø§Ø±Ù…',
    'Ú†Ø·ÙˆØ±ÛŒØŸ': 'Ù…Ù† ÛŒÚ© Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ Ù‡Ø³ØªÙ… Ùˆ Ø§Ø­Ø³Ø§Ø³ Ù†Ø¯Ø§Ø±Ù…',
    'Ú†Ø·ÙˆØ±ÛŒ': 'Ù…Ù† ÛŒÚ© Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ Ù‡Ø³ØªÙ… Ùˆ Ø§Ø­Ø³Ø§Ø³ Ù†Ø¯Ø§Ø±Ù…',
    'Ø®ÙˆØ¨ÛŒ': 'Ù…Ù† ÛŒÚ© Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ Ù‡Ø³ØªÙ… Ùˆ Ø§Ø­Ø³Ø§Ø³ Ù†Ø¯Ø§Ø±Ù…',
    'Ø­Ø§Ù„Øª Ú†Ø·ÙˆØ±Ù‡': 'Ù…Ù† ÛŒÚ© Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ Ù‡Ø³ØªÙ… Ùˆ Ø­Ø§Ù„Øª Ø®Ø§ØµÛŒ Ù†Ø¯Ø§Ø±Ù…',
    'Ø§Ù…Ø±ÙˆØ² Ú†Ù†Ø¯ Ø´Ù†Ø¨Ù‡ Ø§Ø³Øª': `Ø§Ù…Ø±ÙˆØ² ${dayOfWeek} Ø§Ø³Øª.`,
    'Ø§Ù…Ø±ÙˆØ² Ú†Ù†Ø¯Ù… Ù…Ø§Ù‡Ù‡': `Ø§Ù…Ø±ÙˆØ² ${date} ${month} Ø§Ø³Øª.`,
    'Ø§Ù…Ø±ÙˆØ² Ú†Ù†Ø¯Ù… Ù…Ø§Ù‡ Ø§Ø³Øª': `Ø§Ù…Ø±ÙˆØ² ${date} ${month} Ø§Ø³Øª.`,
    'Ø§Ù„Ø§Ù† Ø¯Ø± Ú†Ù‡ Ù…Ø§Ù‡ÛŒ Ù‡Ø³ØªÛŒÙ…': `Ø§Ù…Ø±ÙˆØ² ${date} ${month} Ø§Ø³Øª.`,
    'Ø¯Ø± Ú†Ù‡ Ù…Ø§Ù‡ÛŒ Ù‡Ø³ØªÛŒÙ…': `Ø§Ù…Ø±ÙˆØ² ${date} ${month} Ø§Ø³Øª.`,
    'Ú†ÛŒ Ù‡Ø³ØªÛŒØŸ': 'Ù…Ù† ÛŒÚ© Ú†Øªâ€ŒØ¨Ø§Øª Ù‡Ø³ØªÙ… Ú©Ù‡ Ø¨Ù‡ Ø³ÙˆØ§Ù„Ø§Øª Ø´Ù…Ø§ Ù¾Ø§Ø³Ø® Ù…ÛŒâ€ŒØ¯Ù‡Ø¯.',
    'Ú†ÛŒ Ù‡Ø³ØªÛŒ': 'Ù…Ù† ÛŒÚ© Ú†Øªâ€ŒØ¨Ø§Øª Ù‡Ø³ØªÙ… Ú©Ù‡ Ø¨Ù‡ Ø³ÙˆØ§Ù„Ø§Øª Ø´Ù…Ø§ Ù¾Ø§Ø³Ø® Ù…ÛŒâ€ŒØ¯Ù‡Ø¯.',
    'Ø§ÛŒØ§ ØªÙˆ ÛŒÚ© Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ Ù‡Ø³ØªÛŒ': 'Ø¨Ù„Ù‡ . Ù…Ù† ÛŒÚ© Ú†Øªâ€ŒØ¨Ø§Øª Ù‡Ø³ØªÙ… Ú©Ù‡ Ø¨Ù‡ Ø³ÙˆØ§Ù„Ø§Øª Ø´Ù…Ø§ Ù¾Ø§Ø³Ø® Ù…ÛŒâ€ŒØ¯Ù‡Ø¯.',
    'Ø§ÛŒØ§ ØªÙˆ ÛŒÚ© Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ Ù‡Ø³ØªÛŒØŸ': 'Ø¨Ù„Ù‡ . Ù…Ù† ÛŒÚ© Ú†Øªâ€ŒØ¨Ø§Øª Ù‡Ø³ØªÙ… Ú©Ù‡ Ø¨Ù‡ Ø³ÙˆØ§Ù„Ø§Øª Ø´Ù…Ø§ Ù¾Ø§Ø³Ø® Ù…ÛŒâ€ŒØ¯Ù‡Ø¯.',
    'Ø³ÙˆØ§Ù„ Ø¯ÛŒÚ¯Ù‡': 'Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø³ÙˆØ§Ù„ Ø¯ÛŒÚ¯Ø±ÛŒ Ø¨Ù¾Ø±Ø³ÛŒØ¯!',
    'Ø¢Ø¨ Ùˆ Ù‡ÙˆØ§ Ú†Ø·ÙˆØ±Ù‡ØŸ': 'Ø¨Ù‡ØªØ±ÛŒÙ† Ú©Ø§Ø± Ø¨Ø±Ø§ÛŒ Ø§Ø·Ù„Ø§Ø¹ Ø§Ø² Ø¢Ø¨ Ùˆ Ù‡ÙˆØ§ØŒ Ú†Ú© Ú©Ø±Ø¯Ù† ÙˆØ¨â€ŒØ³Ø§ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ù…Ø¹ØªØ¨Ø± Ø§Ø³Øª.',
    'Ù…Ø´Ø§ÙˆØ±Ù‡ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡Ù…': 'Ù„Ø·ÙØ§ Ø¨ÙØ±Ù…Ø§ÛŒÛŒØ¯ Ø¯Ø± Ú†Ù‡ Ù…ÙˆØ±Ø¯ÛŒ Ù…Ø´Ø§ÙˆØ±Ù‡ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯. Ù…Ù† Ø¯Ø± Ø²Ù…ÛŒÙ†Ù‡â€ŒÙ‡Ø§ÛŒ Ù…Ø®ØªÙ„Ù Ø¨Ù‡ Ø´Ù…Ø§ Ú©Ù…Ú© Ù…ÛŒâ€ŒÚ©Ù†Ù….',
    'Ú†Ø·ÙˆØ± Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ù… Ø¨Ø§ Ø´Ù…Ø§ ØªÙ…Ø§Ø³ Ø¨Ú¯ÛŒØ±Ù…ØŸ': 'Ù…ØªØ§Ø³ÙØ§Ù†Ù‡ Ù…Ù† Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ù… ØªÙ…Ø§Ø³ ØªÙ„ÙÙ†ÛŒ Ø¨Ø±Ù‚Ø±Ø§Ø± Ú©Ù†Ù…. Ø§Ù…Ø§ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ Ø³ÙˆØ§Ù„Ø§Øª Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ù¾Ø±Ø³ÛŒØ¯.',
    'Ø¨Ù‡ Ú†Ù‡ Ø³ÙˆØ§Ù„Ø§ØªÛŒ Ù¾Ø§Ø³Ø® Ù…ÛŒâ€ŒØ¯Ù‡ÛŒØŸ': 'Ù…Ù† Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ù… Ø¨Ù‡ Ø³ÙˆØ§Ù„Ø§Øª Ø¹Ù…ÙˆÙ…ÛŒØŒ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¯Ø± Ù…ÙˆØ±Ø¯ Ø®ÙˆØ¯Ù… Ùˆ Ù…Ø´Ø§ÙˆØ±Ù‡â€ŒÙ‡Ø§ÛŒÛŒ Ø¯Ø± Ø²Ù…ÛŒÙ†Ù‡â€ŒÙ‡Ø§ÛŒ Ù…Ø®ØªÙ„Ù Ù¾Ø§Ø³Ø® Ø¯Ù‡Ù….',
    'Ù…Ø´Ú©Ù„Ø§Øª Ù…Ù† Ø±Ø§ Ø­Ù„ Ú©Ù†': [
        'Ø¨Ø±Ø®ÛŒ Ø§Ø² Ù…Ø´Ú©Ù„Ø§Øª Ù†ÛŒØ§Ø² Ø¨Ù‡ Ù…Ø´Ø§ÙˆØ±Ù‡ ØªØ®ØµØµÛŒ Ø¯Ø§Ø±Ù†Ø¯. Ù„Ø·ÙØ§ Ø³ÙˆØ§Ù„ Ø¯Ù‚ÛŒÙ‚â€ŒØªØ±ÛŒ Ø¨Ù¾Ø±Ø³ÛŒØ¯.',
        'Ù…Ù† Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ù… Ø¨Ù‡ Ø´Ù…Ø§ Ø±Ø§Ù‡â€ŒÙ‡Ø§ÛŒ Ø¹Ù…ÙˆÙ…ÛŒ Ø±Ø§ Ù…Ø¹Ø±ÙÛŒ Ú©Ù†Ù…ØŒ Ø§Ù…Ø§ Ø¨Ø±Ø§ÛŒ Ù…Ø´Ú©Ù„Ø§Øª Ø®Ø§Øµ Ø¨Ø§ÛŒØ¯ Ø¨Ù‡ ÛŒÚ© Ù…ØªØ®ØµØµ Ù…Ø±Ø§Ø¬Ø¹Ù‡ Ú©Ù†ÛŒØ¯.',
        'Ø¨Ø±Ø§ÛŒ Ø­Ù„ Ù…Ø´Ú©Ù„Ø§Øª Ø¹Ø§Ø·ÙÛŒ Ùˆ Ø±ÙˆØ§Ù†ÛŒ Ø¨Ù‡ØªØ± Ø§Ø³Øª Ø§Ø² Ù…Ø´Ø§ÙˆØ±Ø§Ù† Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ Ú©Ù…Ú© Ø¨Ú¯ÛŒØ±ÛŒØ¯.'
    ],
    'Ø¨Ø±Ùˆ': 'Ø§Ú¯Ø± Ù†Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ ØµØ­Ø¨Øª Ú©Ù†ÛŒØ¯ØŒ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ù‡Ø± Ø²Ù…Ø§Ù† Ú©Ù‡ Ø®ÙˆØ§Ø³ØªÛŒØ¯ Ø¨Ø±Ú¯Ø±Ø¯ÛŒØ¯.',
    'Ú©Ø¬Ø§ Ù‡Ø³ØªÛŒØŸ': 'Ù…Ù† Ø¯Ø± Ø¯Ù†ÛŒØ§ÛŒ Ø¯ÛŒØ¬ÛŒØªØ§Ù„ Ù‡Ø³ØªÙ… Ùˆ ÙÙ‚Ø· Ø¨Ù‡ Ø³ÙˆØ§Ù„Ø§Øª Ø´Ù…Ø§ Ù¾Ø§Ø³Ø® Ù…ÛŒâ€ŒØ¯Ù‡Ù…!',
    'Ø¯Ø±Ø¨Ø§Ø±Ù‡Ù” Ø®ÙˆØ¯Øª Ø¨Ú¯Ùˆ': 'Ù…Ù† ÛŒÚ© Ú†Øªâ€ŒØ¨Ø§Øª Ù‡Ø³ØªÙ… Ùˆ Ø¨Ø±Ø§ÛŒ Ù¾Ø§Ø³Ø® Ø¨Ù‡ Ø³ÙˆØ§Ù„Ø§Øª Ø´Ù…Ø§ Ùˆ Ú©Ù…Ú© Ø¨Ù‡ Ø´Ù…Ø§ Ø·Ø±Ø§Ø­ÛŒ Ø´Ø¯Ù‡â€ŒØ§Ù….',
    'Ù…Ù† ØºÙ…Ú¯ÛŒÙ†Ù…': 'Ù…ØªÙˆØ¬Ù‡â€ŒØ§Ù…. Ù…Ù‡Ù… Ø§Ø³Øª Ú©Ù‡ Ø¯Ø± Ø§ÛŒÙ† Ø´Ø±Ø§ÛŒØ· Ø¨Ù‡ Ø®ÙˆØ¯ØªØ§Ù† ØªÙˆØ¬Ù‡ Ú©Ù†ÛŒØ¯ Ùˆ Ø¨Ø§ Ú©Ø³ÛŒ Ú©Ù‡ Ù‚Ø§Ø¨Ù„ Ø§Ø¹ØªÙ…Ø§Ø¯ Ø§Ø³Øª ØµØ­Ø¨Øª Ú©Ù†ÛŒØ¯.',
    'Ø®Ø³ØªÙ‡â€ŒØ§Ù…': 'Ø§Ø³ØªØ±Ø§Ø­Øª Ú©Ù†ÛŒØ¯! Ú©Ù…ÛŒ ÙˆÙ‚Øª Ø¨Ú¯Ø°Ø§Ø±ÛŒØ¯ Ùˆ Ø¨Ù‡ Ø®ÙˆØ¯ØªØ§Ù† Ø§Ø³ØªØ±Ø§Ø­Øª Ø¯Ù‡ÛŒØ¯.',
    'Ø¨Ø§ Ù…Ù† ØµØ­Ø¨Øª Ú©Ù†': 'Ù…Ù† Ø§ÛŒÙ†Ø¬Ø§ Ù‡Ø³ØªÙ… ØªØ§ Ø¨Ø§ Ø´Ù…Ø§ ØµØ­Ø¨Øª Ú©Ù†Ù…ØŒ Ø§Ø­Ø³Ø§Ø³ Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ø§ Ù…Ù† Ø¯Ø± Ù…ÛŒØ§Ù† Ø¨Ú¯Ø°Ø§Ø±ÛŒØ¯.',
    'Ú¯Ø²Ø§Ø±Ø´': 'Ù„Ø·ÙØ§ Ø¨Ù‡ ØµÙØ­Ù‡Ù” ØªÙ…Ø§Ø³ Ø¨Ø§ Ù…Ø§ Ø¨Ø±ÙˆÛŒØ¯ Ùˆ Ù†Ø¸Ø± Ø®ÙˆØ¯ Ø±Ø§ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯ ØªØ§ Ø¯Ø± Ø³Ø±ÛŒØ¹â€ŒØªØ±ÛŒÙ† Ø­Ø§Ù„Øª Ø§ÛŒÙ† Ù…Ø´Ú©Ù„ Ø±Ø§ Ø­Ù„ Ú©Ù†Ù….',
    'Ù…Ø´Ú©Ù„': 'Ù„Ø·ÙØ§ Ø¨Ù‡ ØµÙØ­Ù‡Ù” ØªÙ…Ø§Ø³ Ø¨Ø§ Ù…Ø§ Ø¨Ø±ÙˆÛŒØ¯ Ùˆ Ù†Ø¸Ø± Ø®ÙˆØ¯ Ø±Ø§ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯ ØªØ§ Ø¯Ø± Ø³Ø±ÛŒØ¹â€ŒØªØ±ÛŒÙ† Ø­Ø§Ù„Øª Ø§ÛŒÙ† Ù…Ø´Ú©Ù„ Ø±Ø§ Ø­Ù„ Ú©Ù†Ù….',
    'Ø®Ø·Ø§': 'Ù„Ø·ÙØ§ Ø¨Ù‡ ØµÙØ­Ù‡Ù” ØªÙ…Ø§Ø³ Ø¨Ø§ Ù…Ø§ Ø¨Ø±ÙˆÛŒØ¯ Ùˆ Ù†Ø¸Ø± Ø®ÙˆØ¯ Ø±Ø§ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯ ØªØ§ Ø¯Ø± Ø³Ø±ÛŒØ¹â€ŒØªØ±ÛŒÙ† Ø­Ø§Ù„Øª Ø§ÛŒÙ† Ù…Ø´Ú©Ù„ Ø±Ø§ Ø­Ù„ Ú©Ù†Ù….',
    'Ø§ÛŒØ±Ø§Ø¯': 'Ù„Ø·ÙØ§ Ø¨Ù‡ ØµÙØ­Ù‡Ù” ØªÙ…Ø§Ø³ Ø¨Ø§ Ù…Ø§ Ø¨Ø±ÙˆÛŒØ¯ Ùˆ Ù†Ø¸Ø± Ø®ÙˆØ¯ Ø±Ø§ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯ ØªØ§ Ø¯Ø± Ø³Ø±ÛŒØ¹â€ŒØªØ±ÛŒÙ† Ø­Ø§Ù„Øª Ø§ÛŒÙ† Ù…Ø´Ú©Ù„ Ø±Ø§ Ø­Ù„ Ú©Ù†Ù….',
    'ØªÙˆ Ø§Ù†Ø³Ø§Ù† Ø²Ù†Ø¯Ù‡â€ŒØ§ÛŒØŸ': 'Ø®ÛŒØ±! Ù…Ù† ÛŒÚ© Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ Ù‡Ø³ØªÙ….',
    'Ù…ÛŒØªÙˆÙ†ÛŒ Ø¨Ù‡ Ù…Ù† Ú†ÛŒØ²ÛŒ ÛŒØ§Ø¯ Ø¨Ø¯ÛŒØŸ': 'Ø¨Ù„Ù‡! Ù…Ù† Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ù… Ø¯Ø± Ø²Ù…ÛŒÙ†Ù‡â€ŒÙ‡Ø§ÛŒ Ù…Ø®ØªÙ„Ù Ø¨Ù‡ Ø´Ù…Ø§ Ú©Ù…Ú© Ú©Ù†Ù…. Ø¯Ø±Ø¨Ø§Ø±Ù‡Ù” Ú†Ù‡ Ù…ÙˆØ¶ÙˆØ¹ÛŒ Ù†ÛŒØ§Ø² Ø¨Ù‡ ÛŒØ§Ø¯Ú¯ÛŒØ±ÛŒ Ø¯Ø§Ø±ÛŒØ¯ØŸ',
    'Ø¨Ù‡ØªØ±ÛŒÙ† Ø²Ø¨Ø§Ù† Ø¨Ø±Ù†Ø§Ù…Ù‡ Ù†ÙˆÛŒØ³ÛŒ Ø¯Ø± Ø³Ø§Ù„ 2024 Ú†ÛŒØ³ØªØŸ': 'Ø²Ø¨Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒÙ†ÙˆÛŒØ³ÛŒ Ù…Ø­Ø¨ÙˆØ¨ Ø¯Ø± Ø³Ø§Ù„ 2024 Ø´Ø§Ù…Ù„ PythonØŒ JavaScriptØŒ Ùˆ Go Ù‡Ø³ØªÙ†Ø¯. Ø§Ù†ØªØ®Ø§Ø¨ Ø¨Ù‡ØªØ±ÛŒÙ† Ø²Ø¨Ø§Ù† Ø¨Ø³ØªÚ¯ÛŒ Ø¨Ù‡ Ù¾Ø±ÙˆÚ˜Ù‡ Ùˆ Ø§Ù‡Ø¯Ø§Ù Ø´Ù…Ø§ Ø¯Ø§Ø±Ø¯.',
    'Ø¨Ù‡ØªØ±ÛŒÙ† Ø²Ø¨Ø§Ù† Ø¨Ø±Ù†Ø§Ù…Ù‡ Ù†ÙˆÛŒØ³ÛŒ Ø¯Ø± Ø³Ø§Ù„ 2024': 'Ø²Ø¨Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒÙ†ÙˆÛŒØ³ÛŒ Ù…Ø­Ø¨ÙˆØ¨ Ø¯Ø± Ø³Ø§Ù„ 2024 Ø´Ø§Ù…Ù„ PythonØŒ JavaScriptØŒ Ùˆ Go Ù‡Ø³ØªÙ†Ø¯. Ø§Ù†ØªØ®Ø§Ø¨ Ø¨Ù‡ØªØ±ÛŒÙ† Ø²Ø¨Ø§Ù† Ø¨Ø³ØªÚ¯ÛŒ Ø¨Ù‡ Ù¾Ø±ÙˆÚ˜Ù‡ Ùˆ Ø§Ù‡Ø¯Ø§Ù Ø´Ù…Ø§ Ø¯Ø§Ø±Ø¯.',
    'Ú†ÛŒØ²ÛŒ Ø±Ø§ Ø¨Ø±Ø§ÛŒ Ù…Ù† ØªÙˆØ¶ÛŒØ­ Ø¨Ø¯Ù‡': 'Ú©Ø§Ù†Ø³ØªÙ†Øª ÛŒÚ©ÛŒ Ø§Ø² Ù…Ù‡Ù…â€ŒØªØ±ÛŒÙ† Ù…ÙÙ‡ÙˆÙ…â€ŒÙ‡Ø§ Ø¯Ø± Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒÙ†ÙˆÛŒØ³ÛŒ Ø§Ø³Øª Ú©Ù‡ Ø¨Ù‡ Ù…Ø¹Ù†Ø§ÛŒ ÛŒÚ© Ù…Ù‚Ø¯Ø§Ø± Ø«Ø§Ø¨Øª Ø§Ø³Øª.',
    'Ù…ÛŒâ€ŒØªÙˆÙ†ÛŒ Ú†ÛŒØ²ÛŒ Ø¨Ù‡ Ù…Ù† Ø±Ø§Ø¬Ø¨ Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒÙ†ÙˆÛŒØ³ÛŒ ÛŒØ§Ø¯ Ø¨Ø¯Ù‡ØŸ': 'Ø§ÛŒÙ† Ø³Ø§ÛŒØª Ù…Ø®ØµÙˆØµ ÙØ±ÙˆØ´ Ø¯ÙˆØ±Ù‡â€ŒÙ‡Ø§ÛŒ Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒÙ†ÙˆÛŒØ³ÛŒ Ø§Ø³Øª. Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø¯ÙˆØ±Ù‡â€ŒÛŒ Ø®ÙˆØ¯ Ø±Ø§ Ø§Ø² Ø³Ø§ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ù…Ø¹Ø±ÙˆÙ Ù…Ø§Ù†Ù†Ø¯ Udemy ÛŒØ§ Coursera Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯.',
    'Ø³Ø§Ø¹Øª Ú†Ù†Ø¯Ù‡ØŸ': 'Ù…ØªØ§Ø³ÙØ§Ù†Ù‡ Ù…Ù† Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ù… Ø²Ù…Ø§Ù† ÙˆØ§Ù‚Ø¹ÛŒ Ø±Ø§ Ø¨Ú¯ÙˆÛŒÙ…ØŒ Ø§Ù…Ø§ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø¨Ø§ Ú†Ú© Ú©Ø±Ø¯Ù† Ø³Ø§Ø¹Øª Ø¯Ø³ØªÚ¯Ø§Ù‡ØªØ§Ù† Ø²Ù…Ø§Ù† Ø±Ø§ Ø¨Ø¨ÛŒÙ†ÛŒØ¯.',
    'Ø´Ù…Ø§ Ú†Ù‡ Ø³Ø±ÙˆÛŒØ³ÛŒ Ø§Ø±Ø§Ø¦Ù‡ Ù…ÛŒâ€ŒØ¯Ù‡ÛŒØ¯ØŸ': 'Ù…Ø§ Ø¯ÙˆØ±Ù‡â€ŒÙ‡Ø§ Ùˆ Ù…Ø´Ø§ÙˆØ±Ù‡â€ŒÙ‡Ø§ÛŒ Ø¢Ù…ÙˆØ²Ø´ÛŒ Ø¯Ø± Ø²Ù…ÛŒÙ†Ù‡â€ŒÙ‡Ø§ÛŒ Ù…Ø®ØªÙ„Ù Ø§Ø±Ø§Ø¦Ù‡ Ù…ÛŒâ€ŒØ¯Ù‡ÛŒÙ…. Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø³ÙˆØ§Ù„Ø§Øª Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ù¾Ø±Ø³ÛŒØ¯!',
    'Ú†Ø·ÙˆØ± Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ù… Ø¹Ø¶Ùˆ Ø³Ø§ÛŒØª Ø´ÙˆÙ…ØŸ': 'Ø¨Ø±Ø§ÛŒ Ø¹Ø¶ÙˆÛŒØª Ø¯Ø± Ø³Ø§ÛŒØªØŒ Ù„Ø·ÙØ§Ù‹ Ø¨Ù‡ ØµÙØ­Ù‡Ù” Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ù…Ø±Ø§Ø¬Ø¹Ù‡ Ú©Ù†ÛŒØ¯ Ùˆ Ù…Ø±Ø§Ø­Ù„ Ø±Ø§ Ø¯Ù†Ø¨Ø§Ù„ Ú©Ù†ÛŒØ¯.',
    'Ú†Ø·ÙˆØ± Ø¯ÙˆØ±Ù‡â€ŒÙ‡Ø§ Ø±Ø§ Ø®Ø±ÛŒØ¯Ø§Ø±ÛŒ Ú©Ù†Ù…ØŸ': 'Ø¨Ø±Ø§ÛŒ Ø®Ø±ÛŒØ¯ Ø¯ÙˆØ±Ù‡â€ŒÙ‡Ø§ØŒ Ù„Ø·ÙØ§Ù‹ Ø¯ÙˆØ±Ù‡ Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø± Ø®ÙˆØ¯ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯ Ùˆ Ù…Ø±Ø§Ø­Ù„ Ù¾Ø±Ø¯Ø§Ø®Øª Ø±Ø§ Ø¯Ù†Ø¨Ø§Ù„ Ú©Ù†ÛŒØ¯.',
    'Ú†Ø·ÙˆØ± Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ù… Ù†Ø¸Ø± Ø®ÙˆØ¯ Ø±Ø§ Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ø¯ÙˆØ±Ù‡â€ŒÙ‡Ø§ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†Ù…ØŸ': 'Ù„Ø·ÙØ§Ù‹ Ø¨Ù‡ ØµÙØ­Ù‡Ù” ØªÙ…Ø§Ø³ Ø¨Ø§ Ù…Ø§ Ø¨Ø±ÙˆÛŒØ¯ Ùˆ ÙØ±Ù… Ø§Ø±Ø³Ø§Ù„ Ù†Ø¸Ø± Ø±Ø§ Ù¾Ø± Ú©Ù†ÛŒØ¯.',
    'Ø§ÛŒÙ†Ø¬Ø§ Ú†Ù‡ Ø®Ø¨Ø±ÛŒ Ø§Ø³ØªØŸ': 'Ù…Ø§ Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ Ø¯ÙˆØ±Ù‡â€ŒÙ‡Ø§ÛŒ Ø¬Ø¯ÛŒØ¯ Ø¢Ù…ÙˆØ²Ø´ÛŒ Ùˆ Ø§Ø®Ø¨Ø§Ø± Ù…Ø±ØªØ¨Ø· Ø¨Ø§ ØªÚ©Ù†ÙˆÙ„ÙˆÚ˜ÛŒ Ø±Ø§ Ù…Ù†ØªØ´Ø± Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ…. Ù„Ø·ÙØ§Ù‹ Ø³ÙˆØ§Ù„Ø§Øª Ø®Ø§Øµâ€ŒØªØ±ÛŒ Ø¨Ù¾Ø±Ø³ÛŒØ¯!',  
    'Ú†Ù‡ Ø®Ø¨Ø±ØŸ': 'Ø§Ø®Ø¨Ø§Ø± Ø¬Ø¯ÛŒØ¯ Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ Ø¯Ø± Ø­Ø§Ù„ Ø¨Ù‡ Ø±ÙˆØ² Ø±Ø³Ø§Ù†ÛŒ Ø§Ø³Øª. Ø¢ÛŒØ§ Ø³ÙˆØ§Ù„ Ø®Ø§ØµÛŒ Ø¯Ø§Ø±ÛŒØ¯ØŸ',
    'Ø§ÛŒÙ† Ø³Ø§ÛŒØª Ø¨Ø±Ø§ÛŒ Ú†ÛŒ Ù‡Ø³ØªØŸ': 'Ø§ÛŒÙ† Ø³Ø§ÛŒØª Ø¨Ù‡ Ø´Ù…Ø§ Ú©Ù…Ú© Ù…ÛŒâ€ŒÚ©Ù†Ø¯ ØªØ§ Ø¨Ù‡ Ø³ÙˆØ§Ù„Ø§Øª Ø®ÙˆØ¯ Ù¾Ø§Ø³Ø® Ø¯Ù‡ÛŒØ¯ Ùˆ Ø¯ÙˆØ±Ù‡â€ŒÙ‡Ø§ÛŒ Ø¢Ù…ÙˆØ²Ø´ÛŒ Ø±Ø§ Ù¾ÛŒØ¯Ø§ Ú©Ù†ÛŒØ¯.',
    'Ú†Ø±Ø§ Ø§ÛŒÙ† Ø³Ø§ÛŒØª Ø·Ø±Ø§Ø­ÛŒ Ø´Ø¯Ù‡ Ø§Ø³ØªØŸ' : 'Ø§ÛŒÙ† Ø³Ø§ÛŒØª Ø¨Ø±Ø§ÛŒ Ø§Ø±Ø§Ø¦Ù‡ Ù…Ø´Ø§ÙˆØ±Ù‡ Ùˆ Ø¯ÙˆØ±Ù‡â€ŒÙ‡Ø§ÛŒ Ø¢Ù…ÙˆØ²Ø´ÛŒ Ø¨Ù‡ Ø´Ù…Ø§ Ø·Ø±Ø§Ø­ÛŒ Ø´Ø¯Ù‡ Ø§Ø³Øª.',
    'Ú†Ø±Ø§ Ø§ÛŒÙ† Ø³Ø§ÛŒØª Ø·Ø±Ø§Ø­ÛŒ Ø´Ø¯' : 'Ø§ÛŒÙ† Ø³Ø§ÛŒØª Ø¨Ø±Ø§ÛŒ Ø§Ø±Ø§Ø¦Ù‡ Ù…Ø´Ø§ÙˆØ±Ù‡ Ùˆ Ø¯ÙˆØ±Ù‡â€ŒÙ‡Ø§ÛŒ Ø¢Ù…ÙˆØ²Ø´ÛŒ Ø¨Ù‡ Ø´Ù…Ø§ Ø·Ø±Ø§Ø­ÛŒ Ø´Ø¯Ù‡ Ø§Ø³Øª.',    
    'Ú†Ú¯ÙˆÙ†Ù‡ Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ù… Ú©Ù…Ú© Ø¨Ú¯ÛŒØ±Ù…ØŸ': 'Ø´Ù…Ø§ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø³ÙˆØ§Ù„Ø§Øª Ø®ÙˆØ¯ Ø±Ø§ Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ Ø¨Ù¾Ø±Ø³ÛŒØ¯.',
    'Ù…Ù† Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¯Ø§Ø±Ù…': 'Ù„Ø·ÙØ§Ù‹ Ø¨ÙØ±Ù…Ø§ÛŒÛŒØ¯ Ú†Ù‡ Ù†ÙˆØ¹ Ø§Ø·Ù„Ø§Ø¹Ø§ØªÛŒ Ù†ÛŒØ§Ø² Ø¯Ø§Ø±ÛŒØ¯.',
    'Ø¢ÛŒØ§ Ø³Ø¤Ø§Ù„ Ø¯ÛŒÚ¯Ø±ÛŒ Ø¯Ø§Ø±ÛŒØ¯ØŸ': 'Ø¨Ù„Ù‡ØŒ Ù…Ù† Ø¢Ù…Ø§Ø¯Ù‡â€ŒØ§Ù… ØªØ§ Ø¨Ù‡ Ø³ÙˆØ§Ù„Ø§Øª Ø´Ù…Ø§ Ù¾Ø§Ø³Ø® Ø¯Ù‡Ù….' 
};


const programmingLanguages: { [key: string]: string } = {
    'JavaScript': 'JavaScript ÛŒÚ© Ø²Ø¨Ø§Ù† Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒÙ†ÙˆÛŒØ³ÛŒ Ø§Ø³Øª Ú©Ù‡ Ø¹Ù…Ø¯ØªØ§Ù‹ Ø¨Ø±Ø§ÛŒ Ø§ÛŒØ¬Ø§Ø¯ ÙˆØ¨â€ŒØ³Ø§ÛŒØªâ€ŒÙ‡Ø§ÛŒ ØªØ¹Ø§Ù…Ù„ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯ Ùˆ Ø§Ø² Ø·Ø±ÛŒÙ‚ Ù…Ø±ÙˆØ±Ú¯Ø±Ù‡Ø§ÛŒ ÙˆØ¨ Ø§Ø¬Ø±Ø§ Ù…ÛŒâ€ŒØ´ÙˆØ¯.',
    'Python': 'Python ÛŒÚ© Ø²Ø¨Ø§Ù† Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒÙ†ÙˆÛŒØ³ÛŒ Ø³Ø·Ø­ Ø¨Ø§Ù„Ø§ Ùˆ Ú†Ù†Ø¯Ù…Ù†Ø¸ÙˆØ±Ù‡ Ø§Ø³Øª Ú©Ù‡ Ø¨Ù‡â€ŒØ·ÙˆØ± Ú¯Ø³ØªØ±Ø¯Ù‡ Ø¯Ø± Ø¹Ù„Ù… Ø¯Ø§Ø¯Ù‡ØŒ ÛŒØ§Ø¯Ú¯ÛŒØ±ÛŒ Ù…Ø§Ø´ÛŒÙ†ØŒ ÙˆØ¨â€ŒØ³Ø§ÛŒØª Ùˆ Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒÙ†ÙˆÛŒØ³ÛŒ Ø¹Ù…ÙˆÙ…ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯.',
    'Java': 'Java ÛŒÚ© Ø²Ø¨Ø§Ù† Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒÙ†ÙˆÛŒØ³ÛŒ Ø´ÛŒØ¡Ú¯Ø±Ø§Ø³Øª Ú©Ù‡ Ø¨Ù‡â€ŒØ·ÙˆØ± Ú¯Ø³ØªØ±Ø¯Ù‡ Ø¯Ø± ØªÙˆØ³Ø¹Ù‡ Ù†Ø±Ù…â€ŒØ§ÙØ²Ø§Ø±ØŒ Ø¨Ù‡ ÙˆÛŒÚ˜Ù‡ Ø¯Ø± Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø±Ø¯ÛŒ Ø³Ø§Ø²Ù…Ø§Ù†ÛŒ Ùˆ Ø§Ù†Ø¯Ø±ÙˆÛŒØ¯ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯.',
    'C#': 'C# ÛŒÚ© Ø²Ø¨Ø§Ù† Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒÙ†ÙˆÛŒØ³ÛŒ Ø´ÛŒØ¡Ú¯Ø±Ø§ Ø§Ø³Øª Ú©Ù‡ Ø¹Ù…Ø¯ØªØ§Ù‹ Ø¨Ø±Ø§ÛŒ ØªÙˆØ³Ø¹Ù‡ Ù†Ø±Ù…â€ŒØ§ÙØ²Ø§Ø±Ù‡Ø§ÛŒ ØªØ­Øª ÙˆÛŒÙ†Ø¯ÙˆØ² Ùˆ Ú¯ÛŒÙ…â€ŒØ³Ø§Ø²ÛŒ (Ø¨Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Unity) Ù…ÙˆØ±Ø¯ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù‚Ø±Ø§Ø± Ù…ÛŒâ€ŒÚ¯ÛŒØ±Ø¯.',
    'C++': 'C++ ÛŒÚ© Ø²Ø¨Ø§Ù† Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒÙ†ÙˆÛŒØ³ÛŒ Ø³Ø·Ø­ Ù¾Ø§ÛŒÛŒÙ†â€ŒØªØ± Ø§Ø³Øª Ú©Ù‡ Ù‚Ø¯Ø±Øª Ù…Ø¯ÛŒØ±ÛŒØªÛŒ Ø¯Ø± Ù…Ù†Ø§Ø¨Ø¹ Ø³ÛŒØ³ØªÙ… Ø±Ø§ ÙØ±Ø§Ù‡Ù… Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ùˆ Ø¹Ù…Ø¯ØªØ§Ù‹ Ø¯Ø± Ù†Ø±Ù…â€ŒØ§ÙØ²Ø§Ø±Ù‡Ø§ÛŒ Ø³ÛŒØ³ØªÙ… Ùˆ Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯.',
    'Go': 'Go ÛŒÚ© Ø²Ø¨Ø§Ù† Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒÙ†ÙˆÛŒØ³ÛŒ Ù…Ø¯Ø±Ù† Ùˆ Ø³Ø§Ø¯Ù‡ Ø§Ø³Øª Ú©Ù‡ Ø¨Ù‡ Ø®Ø§Ø·Ø± Ø¹Ù…Ù„Ú©Ø±Ø¯ Ø¨Ø§Ù„Ø§ÛŒ Ø®ÙˆØ¯ Ø´Ù†Ø§Ø®ØªÙ‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯ Ùˆ Ø¹Ù…Ø¯ØªØ§Ù‹ Ø¯Ø± ØªÙˆØ³Ø¹Ù‡ Ø³Ø±ÙˆØ± Ùˆ Ù…ÛŒÚ©Ø±ÙˆØ³Ø±ÙˆÛŒØ³â€ŒÙ‡Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯.',
    'Ruby': 'Ruby ÛŒÚ© Ø²Ø¨Ø§Ù† Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒÙ†ÙˆÛŒØ³ÛŒ Ø¹Ù…ÙˆÙ…ÛŒ Ùˆ Ø´ÛŒØ¡Ú¯Ø±Ø§ Ø§Ø³Øª Ú©Ù‡ Ø¨ÛŒØ´ØªØ± Ø¨Ø±Ø§ÛŒ ØªÙˆØ³Ø¹Ù‡ ÙˆØ¨ Ø¨Ø§ ÙØ±ÛŒÙ…â€ŒÙˆØ±Ú© Ruby on Rails Ø´Ù†Ø§Ø®ØªÙ‡ Ø´Ø¯Ù‡ Ø§Ø³Øª.',

};


export const ChatBot : React.FC = () => {
    const [errorMessage, setErrorMessage] = useState("");
    const [messages, setMessages] = useState<Message[]>([]);
    const [input, setInput] = useState<string>('');
    const [isChatOpen, setChatOpen] = useState<boolean>(false);
    const hasWelcomed = useRef(false);
    const [showScrollBtn, setShowScrollBtn] = useState<boolean>(false);
    const endOfMessagesRef = useRef<HTMLDivElement | null>(null);
    const [userMessageHistory, setUserMessageHistory] = useState<string[]>([]);

    useEffect(() => {
        if (!hasWelcomed.current) {
            setMessages((prev) => [
                ...prev,
                { sender: 'bot', text: 'Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯! Ù…Ù† Ø§ÛŒÙ†Ø¬Ø§ Ù‡Ø³ØªÙ… ØªØ§ Ø¨Ù‡ Ø³ÙˆØ§Ù„Ø§Øª Ø´Ù…Ø§ Ù¾Ø§Ø³Ø® Ø¨Ø¯Ù‡Ù…. Ú†Ù‡ Ú©Ù…Ú©ÛŒ Ø§Ø² Ù…Ù† Ø¨Ø±Ù…ÛŒâ€ŒØ¢ÛŒØ¯ØŸ' }
            ]);
            hasWelcomed.current = true;
        }

        const handleScroll = () => {
            if (window.scrollY > 0) {
                setShowScrollBtn(true);
            } else {
                setShowScrollBtn(false);
            }
        };

        window.addEventListener('scroll', handleScroll);
        return () => {
            window.removeEventListener('scroll', handleScroll);
        };

    }, []);

    useEffect(() => {
        endOfMessagesRef.current?.scrollIntoView({ behavior: "smooth" });
    }, [messages]);

    const handleSend = () => {
        if (input.trim()) {
            const userMessage = input.trim();
            setMessages((prev) => [...prev, { sender: 'user', text: userMessage }]);
            setUserMessageHistory((prevHistory) => [...prevHistory, userMessage]);
    
            // Check if the user message already exists in history
            if (userMessageHistory.includes(userMessage)) {
                setMessages((prev) => [
                    ...prev,
                    { sender: 'bot', text: 'Ù…Ù† Ù‚Ø¨Ù„Ø§Ù‹ Ø¨Ù‡ Ø§ÛŒÙ† Ø³ÙˆØ§Ù„ Ù¾Ø§Ø³Ø® Ø¯Ø§Ø¯Ù….' }
                ]);
                setInput('');
                return;
            }
    
            // Check responses first
            let botResponse: string = responses[userMessage]
                ? Array.isArray(responses[userMessage])
                    ? responses[userMessage][Math.floor(Math.random() * responses[userMessage].length)]
                    : responses[userMessage]
                : '';
    
            // Stop further execution if botResponse exists
            if (botResponse) {
                setMessages((prev) => [...prev, { sender: 'bot', text: botResponse }]);
                setInput('');
                return;
            }
    
            let additionalResponses: string[] = [];
    
            // Date inquiries and other conditions
            if (userMessage.includes('Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒÙ†ÙˆÛŒØ³ÛŒ')) {
                additionalResponses.push('Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø¯ÙˆØ±Ù‡â€ŒÙ‡Ø§ÛŒ Ø¢Ù…ÙˆØ²Ø´ÛŒ Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒÙ†ÙˆÛŒØ³ÛŒ Ù…Ø§ Ø±Ø§ Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ Ø¨Ø±Ø±Ø³ÛŒ Ú©Ù†ÛŒØ¯: [Ù„ÛŒÙ†Ú© Ø¯ÙˆØ±Ù‡â€ŒÙ‡Ø§]');
            }
            if (userMessage.includes('Ø®Ø³ØªÙ‡â€ŒØ§Ù…')) {
                additionalResponses.push('Ø¢ÛŒØ§ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ø±ÙˆØ´â€ŒÙ‡Ø§ÛŒ Ø¢Ø±Ø§Ù…Ø´ Ø¨ÛŒØ´ØªØ± ØµØ­Ø¨Øª Ú©Ù†ÛŒÙ…ØŸ');
            }
    
            // Specific date inquiries
            if (userMessage.includes('Ø§Ù…Ø±ÙˆØ² Ú†Ù†Ø¯ Ø´Ù†Ø¨Ù‡ Ø§Ø³ØªØŸ')) {
                botResponse = `Ø§Ù…Ø±ÙˆØ² ${dayOfWeek} Ø§Ø³Øª.`;
            } else if (userMessage.includes('Ø§Ù…Ø±ÙˆØ² Ú†Ù†Ø¯Ù… Ù…Ø§Ù‡ Ø§Ø³ØªØŸ')) {
                botResponse = `Ø§Ù…Ø±ÙˆØ² ${date} ${month} Ø§Ø³Øª.`;
            } else if (userMessage.includes('Ø¯Ø± Ú†Ù‡ Ù…Ø§Ù‡ÛŒ Ù‡Ø³ØªÛŒÙ…ØŸ')) {
                botResponse = `Ù…Ø§ Ø¯Ø± Ù…Ø§Ù‡ ${month} Ù‡Ø³ØªÛŒÙ….`;
            }
    
            // Report inquiries
            const keywords = ['Ú¯Ø²Ø§Ø±Ø´', 'Ù…Ø´Ú©Ù„', 'Ø®Ø·Ø§', 'Ø§ÛŒØ±Ø§Ø¯'];
            if (keywords.some(keyword => userMessage.includes(keyword))) {
                botResponse = 'Ù„Ø·ÙØ§ Ø¨Ù‡ ØµÙØ­Ù‡Ù” ØªÙ…Ø§Ø³ Ø¨Ø§ Ù…Ø§ Ø¨Ø±ÙˆÛŒØ¯ Ùˆ Ù…Ø´Ú©Ù„ ÛŒØ§ Ù†Ø¸Ø± Ø®ÙˆØ¯ Ø±Ø§ Ø±Ø§Ø¬Ø¨ Ø³Ø§ÛŒØª Ø¨Ú¯ÙˆÛŒÛŒØ¯.';
            }
    
            // Check for mentioned programming languages
            const mentionedLanguages = Object.keys(programmingLanguages).filter(lang => userMessage.includes(lang));
            if (mentionedLanguages.length > 0) {
                botResponse += `\n`;
                mentionedLanguages.forEach(lang => {
                    botResponse += `${lang}: ${programmingLanguages[lang]}\n`;
                });
            }
    
            // Combine the bot response with the additional responses
            if (additionalResponses.length > 0) {
                botResponse += '\n' + additionalResponses.join('\n');
            }
    
            // If no response was found, show the default message
            if (!botResponse) {
                botResponse = 'Ù…ØªØ§Ø³ÙØ§Ù†Ù‡ Ù¾Ø§Ø³Ø® Ù…Ø´Ø®ØµÛŒ Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ† Ø³ÙˆØ§Ù„ Ù†Ø¯Ø§Ø±Ù….';
            }
    
            // Set message response
            setMessages((prev) => [...prev, { sender: 'bot', text: botResponse }]);
            setInput('');
        } else {
            toast.error("Ù„Ø·ÙØ§Ù‹ Ù…ØªÙ† Ù¾ÛŒØ§Ù… Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯.");
        }
    };
    
    
    const onChange = (e: React.ChangeEvent<HTMLInputElement>) => {
        const value = e.target.value;
        handleInputChange(value, setInput, setErrorMessage); // Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø­Ø§ØµÙ„ Ú©Ù†ÛŒØ¯ Ú©Ù‡ Ø§ÛŒÙ† ØªØ§Ø¨Ø¹ Ø¨Ù‡ Ø¯Ø±Ø³ØªÛŒ Ú©Ø§Ø± Ú©Ù†Ø¯
    };

    const toggleChat = () => {
        setChatOpen(!isChatOpen);
    };

    const scrollToTop = () => {
        window.scrollTo({
            top: 0,
            behavior: 'smooth'
        });
    };



    return (
        <div>
            {!isChatOpen ? (
                <div title='Ø¨Ø§ØªÙ‡ Ù¾Ø´ØªÛŒØ¨Ø§Ù†' onClick={toggleChat} className="hover:scale-105 fixed z-50 bottom-4 right-4 bg-[#166c6b] shadow-lg rounded-full p-3 cursor-pointer">
                    <span role="img" aria-label="consultant-icon" className="text-white text-3xl">ğŸ’¬</span>
                </div>
            ) : (
                <div className="fixed z-50 bottom-4 right-4 shadow-lg rounded-lg w-80 sm:w-96 p-4 border border-gray-400 bg-gray-200">
                    <div className="overflow-y-auto max-h-60">
                        {messages.map((msg, index) => (
                            <div key={index} className={`my-1 ${msg.sender === 'user' ? 'text-right' : 'text-left'}`}>
                                <div className={`inline-block p-2 rounded-lg ${msg.sender === 'user' ? 'bg-[#177c7a] text-white' : 'bg-gray-300 text-black'}`}>
                                    {msg.text}
                                </div>
                            </div>
                        ))}
                        <div ref={endOfMessagesRef} />
                    </div>
                    <div className="flex mt-2 justify-center gap-2">
                    <input
                            type="text"
                            className="w-[90%] border-gray-500 text-black border rounded-lg p-2 sm:p-3 md:p-2 focus:outline-none focus:ring-2 focus:ring-[#28a19f]"
                            value={input}
                            onChange={onChange} // ÙÙ‚Ø· Ø¨Ù‡ ØªØ§Ø¨Ø¹ onChange Ø§Ø´Ø§Ø±Ù‡ Ú©Ù†ÛŒØ¯
                            onKeyPress={(e) => e.key === 'Enter' && handleSend()}
                            placeholder="Ù¾ÛŒØ§Ù… Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ù†ÙˆÛŒØ³ÛŒØ¯..."
                        />
                        <button onClick={handleSend} className="ml-2 bg-[#28a19f] text-white rounded-lg p-2 sm:p-3 hover:bg-[#24b0a2] transition">
                            Ø§Ø±Ø³Ø§Ù„
                        </button>
                    </div>
                    <div>
                            {errorMessage && (
                                 <div className="text-red-500 mt-2">{errorMessage}</div>
                            )}
                    </div>
                    <button title='Ø¨Ø³ØªÙ† Ø¨Ø§ØªÙ‡ Ù¾Ø´ØªÛŒØ¨Ø§Ù†' className="mt-2 text-gray-500 hover:text-gray-700 transition" onClick={toggleChat}>
                        Ø¨Ø³ØªÙ†
                    </button>
                </div>
            )}
                <button 
                    onClick={scrollToTop} 
                    className={`fixed z-40  right-24 bg-[#166c6b] text-white p-2 rounded-lg shadow-lg transition-all transform ${showScrollBtn ? ' bottom-6 ' : '  bottom-[-50px]'} `}>
                    â¬†ï¸ Ø¨Ø±Ú¯Ø±Ø´Øª Ø¨Ù‡ Ø¨Ø§Ù„Ø§
                </button>
        </div>
    );
};

